<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Panel de Control · REMAEP 2026 | Administración SaaS</title>
    <meta name="description" content="Panel de administración del Registro Nacional de Matrícula Profesional.">
    <meta name="theme-color" content="#000b1a">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* ===== MISMOS ESTILOS DEL PANEL ANTERIOR + BOTONES FUNCIONALES ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Montserrat', system-ui, -apple-system, sans-serif;
            background: radial-gradient(circle at 80% 20%, #001a2c, #000a14);
            color: white;
            overflow: hidden;
            height: 100vh;
        }

        .circuit-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.15;
            background-image: 
                linear-gradient(to right, rgba(0, 229, 255, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 229, 255, 0.1) 1px, transparent 1px);
            background-size: 60px 60px, 60px 60px;
            pointer-events: none;
        }

        .glow-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.5), transparent);
            height: 3px;
            width: 70%;
            left: 15%;
            top: -5%;
            border-radius: 100%;
            filter: blur(3px);
            animation: scan 14s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        @keyframes scan {
            0% { transform: translateY(-10vh) scaleX(0.7); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(120vh) scaleX(1.3); opacity: 0; }
        }

        .sidebar {
            background: rgba(0, 12, 25, 0.85);
            backdrop-filter: blur(16px) saturate(180%);
            border-right: 1px solid rgba(0, 229, 255, 0.15);
            box-shadow: 5px 0 30px -10px rgba(0,0,0,0.7);
            position: relative;
            z-index: 20;
        }

        .glass-panel {
            background: rgba(10, 25, 45, 0.65);
            backdrop-filter: blur(12px) saturate(180%);
            border: 1px solid rgba(0, 229, 255, 0.12);
            transition: all 0.3s ease;
        }

        .glass-panel:hover {
            border-color: rgba(0, 229, 255, 0.3);
            box-shadow: 0 15px 35px -15px rgba(0, 229, 255, 0.2);
        }

        .active-link {
            background: linear-gradient(90deg, rgba(0, 229, 255, 0.15), transparent);
            border-left: 4px solid #00e5ff;
            color: white;
            font-weight: 600;
        }

        /* ===== BOTONES FUNCIONALES ===== */
        .btn-save {
            background: linear-gradient(135deg, #00e5ff, #0066ff);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 229, 255, 0.4);
        }

        .btn-save:active {
            transform: translateY(1px);
        }

        .btn-save::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -20%;
            width: 140%;
            height: 200%;
            background: rgba(255,255,255,0.2);
            transform: rotate(45deg) translateX(-100%);
            transition: transform 0.6s;
        }

        .btn-save:hover::after {
            transform: rotate(45deg) translateX(100%);
        }

        .btn-logout {
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.3);
        }

        .nav-link {
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.05);
            color: white;
        }

        .nav-link:hover i {
            color: #00e5ff;
        }

        .editable-field {
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 4px;
            padding: 2px 6px;
            margin: -2px -6px;
        }

        .editable-field:hover {
            background: rgba(0, 229, 255, 0.1);
            box-shadow: 0 0 0 1px rgba(0, 229, 255, 0.3);
        }

        .editable-field:focus {
            background: rgba(0, 20, 40, 0.9);
            box-shadow: 0 0 0 3px rgba(0, 229, 255, 0.5);
            outline: none;
        }

        .dot-active {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
            box-shadow: 0 0 12px #10b981;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        .toast-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 229, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid #00e5ff;
            border-radius: 12px;
            padding: 12px 20px;
            color: white;
            font-size: 12px;
            font-weight: bold;
            z-index: 9999;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .toast-notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="relative">

    <!-- Fondo -->
    <div class="circuit-bg" aria-hidden="true">
        <div class="glow-line"></div>
    </div>
    <div class="fixed inset-0 bg-[radial-gradient(ellipse_at_top_right,rgba(0,150,255,0.08),transparent_70%)] pointer-events-none z-0"></div>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast-notification flex items-center gap-2">
        <i data-lucide="check-circle" class="w-4 h-4 text-cyan-400"></i>
        <span id="toast-message">Cambios guardados correctamente</span>
    </div>

    <!-- ESTRUCTURA PRINCIPAL -->
    <div class="relative z-20 flex h-screen w-full overflow-hidden">

        <!-- SIDEBAR - CON BOTONES FUNCIONALES -->
        <aside class="sidebar w-64 md:flex flex-col hidden flex-shrink-0 h-full overflow-y-auto">
            <div class="p-6 border-b border-white/10 flex items-center gap-3">
                <div class="relative">
                    <div class="absolute inset-0 bg-cyan-500/20 blur-md rounded-full"></div>
                    <div class="relative w-10 h-10 bg-gradient-to-br from-cyan-400/30 to-blue-600/30 rounded-full flex items-center justify-center border border-cyan-400/50">
                        <i data-lucide="shield" class="w-5 h-5 text-cyan-300"></i>
                    </div>
                </div>
                <span class="font-extrabold tracking-tighter text-lg bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent">REMAEP ADMIN</span>
            </div>
            
            <!-- NAVEGACIÓN - TODOS LOS BOTONES FUNCIONAN -->
            <nav class="flex-1 p-4 space-y-1.5 mt-2">
                <!-- Botón Dashboard - ACTIVO -->
                <a href="#" id="nav-dashboard" class="nav-link flex items-center gap-3 p-3 rounded-xl active-link transition-all group">
                    <i data-lucide="layout-dashboard" size="18" class="text-cyan-400"></i>
                    <span class="font-medium">Dashboard</span>
                </a>
                
                <!-- Botón Homologaciones - CON FUNCIÓN -->
                <a href="#" id="nav-homologaciones" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="file-text" size="18"></i>
                    <span>Homologaciones</span>
                </a>
                
                <!-- Botón Matriculados - CON FUNCIÓN -->
                <a href="#" id="nav-matriculados" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="users" size="18"></i>
                    <span>Matriculados</span>
                </a>
                
                <div class="pt-8 pb-2 px-3 text-[9px] uppercase tracking-[0.25em] text-cyan-400/60 font-bold">
                    Identidad SaaS
                </div>
                
                <!-- Botón Branding - CON FUNCIÓN (SCROLL) -->
                <a href="#" id="nav-branding" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="palette" size="18"></i>
                    <span>Branding y Logos</span>
                </a>
                
                <!-- Botón Configuración - CON FUNCIÓN -->
                <a href="#" id="nav-config" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="settings" size="18"></i>
                    <span>Configuración</span>
                </a>
                
                <!-- Botón Precios - CON FUNCIÓN -->
                <a href="#" id="nav-precios" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="dollar-sign" size="18"></i>
                    <span>Precios y Planes</span>
                </a>
                
                <!-- Botón Contacto - CON FUNCIÓN -->
                <a href="#" id="nav-contacto" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300 transition-all group">
                    <i data-lucide="contact" size="18"></i>
                    <span>Contacto</span>
                </a>
                
                <!-- Botón Volver al Index - NUEVO! -->
                <div class="pt-6 mt-4 border-t border-white/10"></div>
                <a href="index.html" id="nav-index" class="nav-link flex items-center gap-3 p-3 rounded-xl hover:bg-cyan-500/10 text-slate-300 transition-all group">
                    <i data-lucide="home" size="18" class="group-hover:text-cyan-400"></i>
                    <span>Ver sitio público</span>
                    <i data-lucide="external-link" size="14" class="ml-auto opacity-50"></i>
                </a>
            </nav>

            <!-- PERFIL Y CERRAR SESIÓN - BOTÓN FUNCIONAL -->
            <div class="p-6 border-t border-white/10 mt-auto">
                <div class="flex items-center gap-3 mb-5">
                    <div class="w-9 h-9 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-lg">
                        AD
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-bold">Administrador</p>
                        <p class="text-[10px] text-slate-400">Super Admin</p>
                    </div>
                </div>
                
                <!-- BOTÓN CERRAR SESIÓN - FUNCIONAL -->
                <button id="btn-logout" class="btn-logout flex items-center gap-3 text-red-400 hover:text-red-300 text-sm font-bold transition-all w-full p-3 rounded-lg border border-transparent hover:border-red-500/30">
                    <i data-lucide="log-out" size="18"></i>
                    <span>Cerrar Sesión</span>
                </button>
            </div>
        </aside>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="flex-1 overflow-y-auto p-6 md:p-8 lg:p-10 relative h-full">
            
            <!-- HEADER CON BOTONES DE ACCIÓN -->
            <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-10 relative z-10">
                <div>
                    <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">
                        Gestión de <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-400">Identidad</span>
                    </h1>
                    <p class="text-slate-400 text-xs uppercase tracking-[0.25em] mt-2 font-semibold">
                        Control Central de Registros Federativos
                    </p>
                </div>
                <div class="flex gap-3 items-center">
                    <!-- INDICADOR DE ESTADO -->
                    <div class="bg-white/5 px-4 py-2.5 rounded-xl border border-white/10 flex items-center gap-2">
                        <span class="dot-active"></span>
                        <span class="text-slate-400 text-xs uppercase tracking-wider">Estado:</span>
                        <span class="text-emerald-400 font-bold text-sm">Online</span>
                    </div>
                    
                    <!-- BOTÓN GUARDAR - FUNCIONAL -->
                    <button id="btn-save-all" class="btn-save text-white px-6 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wider flex items-center gap-2 shadow-lg">
                        <i data-lucide="save" class="w-4 h-4"></i>
                        <span>Guardar Todo</span>
                    </button>
                </div>
            </header>

            <!-- GRID DE CONFIGURACIÓN -->
            <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 relative z-10 mb-10">
                
                <!-- PANEL BRANDING -->
                <div class="glass-panel p-7 rounded-3xl" id="panel-branding">
                    <div class="flex justify-between items-start mb-7">
                        <h3 class="text-xl font-bold flex items-center gap-2">
                            <i data-lucide="image" class="text-cyan-400 w-6 h-6"></i>
                            <span>Logos e Iconos del Registro</span>
                        </h3>
                        <span class="px-3 py-1.5 bg-cyan-500/10 text-cyan-400 text-[10px] font-bold rounded-full border border-cyan-500/30">EDITABLE</span>
                    </div>
                    
                    <div class="space-y-7">
                        <!-- Logo principal -->
                        <div>
                            <label class="block text-xs uppercase tracking-widest text-slate-400 font-bold mb-3">Logo Principal</label>
                            <div class="grid grid-cols-4 gap-4 items-center">
                                <div class="col-span-3 border-2 border-dashed border-white/10 hover:border-cyan-400/50 rounded-2xl p-6 text-center transition-all cursor-pointer group bg-white/5">
                                    <i data-lucide="upload-cloud" class="mx-auto text-slate-500 mb-2 w-8 h-8 group-hover:text-cyan-400"></i>
                                    <p class="text-[11px] text-slate-400">Arrastra el logo institucional aquí</p>
                                </div>
                                <div class="col-span-1 aspect-square bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl border border-cyan-400/50 flex items-center justify-center p-3">
                                    <i data-lucide="shield" class="w-10 h-10 text-cyan-400/80"></i>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contacto EDITABLE -->
                        <div class="pt-4 border-t border-white/10">
                            <h4 class="text-sm font-bold mb-4 flex items-center gap-2">
                                <i data-lucide="contact" class="w-4 h-4 text-cyan-400"></i>
                                <span>Información de Contacto</span>
                            </h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <p class="text-[9px] uppercase text-slate-500 mb-1">Dirección</p>
                                    <p class="text-sm font-medium editable-field" data-field="contact.address" data-default="Av. Corrientes 1234, CABA" contenteditable="true">Av. Corrientes 1234, CABA</p>
                                </div>
                                <div>
                                    <p class="text-[9px] uppercase text-slate-500 mb-1">Teléfono</p>
                                    <p class="text-sm font-medium editable-field" data-field="contact.phone" data-default="+54 11 4321-5678" contenteditable="true">+54 11 4321-5678</p>
                                </div>
                                <div>
                                    <p class="text-[9px] uppercase text-slate-500 mb-1">Email</p>
                                    <p class="text-sm font-medium editable-field" data-field="contact.email" data-default="admin@remaep.gob.ar" contenteditable="true">admin@remaep.gob.ar</p>
                                </div>
                                <div>
                                    <p class="text-[9px] uppercase text-slate-500 mb-1">Sitio Web</p>
                                    <p class="text-sm font-medium editable-field" data-field="contact.website" data-default="www.remaep.gob.ar" contenteditable="true">www.remaep.gob.ar</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- PANEL PRECIOS Y CARNET -->
                <div class="glass-panel p-7 rounded-3xl" id="panel-precios">
                    <div class="flex justify-between items-start mb-6">
                        <h3 class="text-xl font-bold flex items-center gap-2">
                            <i data-lucide="credit-card" class="text-cyan-400 w-6 h-6"></i>
                            <span>Previsualización y Precios</span>
                        </h3>
                    </div>
                    
                    <!-- PRECIOS EDITABLES -->
                    <div class="mb-6">
                        <h4 class="text-sm font-bold mb-4 flex items-center gap-2">
                            <i data-lucide="dollar-sign" class="w-4 h-4 text-emerald-400"></i>
                            <span>Inversión y Renovación</span>
                        </h4>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-white/5 p-4 rounded-xl">
                                <p class="text-[9px] uppercase text-slate-500 mb-1">Inversión Inicial</p>
                                <div class="flex items-baseline gap-1">
                                    <span class="text-2xl font-black text-cyan-400 editable-field" data-field="pricing.initial.amount" contenteditable="true">$50.000</span>
                                    <span class="text-[9px] text-slate-500 editable-field" data-field="pricing.initial.period" contenteditable="true">/año</span>
                                </div>
                                <p class="text-[9px] text-slate-400 mt-1 editable-field" data-field="pricing.initial.desc" contenteditable="true">Matriculación + Carnet digital</p>
                            </div>
                            <div class="bg-white/5 p-4 rounded-xl">
                                <p class="text-[9px] uppercase text-slate-500 mb-1">Renovación Anual</p>
                                <div class="flex items-baseline gap-1">
                                    <span class="text-2xl font-black text-cyan-400 editable-field" data-field="pricing.renewal.amount" contenteditable="true">$30.000</span>
                                    <span class="text-[9px] text-slate-500 editable-field" data-field="pricing.renewal.period" contenteditable="true">/año</span>
                                </div>
                                <p class="text-[9px] text-slate-400 mt-1 editable-field" data-field="pricing.renewal.desc" contenteditable="true">Actualización de credencial</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TABLA DE HOMOLOGACIONES - CON BOTONES FUNCIONALES -->
            <section class="glass-panel rounded-3xl overflow-hidden relative z-10">
                <div class="p-6 border-b border-white/10 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                    <div class="flex items-center gap-3">
                        <h3 class="font-bold text-lg">Pendientes de Homologación</h3>
                        <span class="px-3 py-1.5 bg-amber-500/15 text-amber-400 text-[10px] font-bold rounded-full border border-amber-500/30">4 SOLICITUDES</span>
                    </div>
                    <div class="flex gap-2">
                        <!-- BOTONES FUNCIONALES -->
                        <button id="btn-filtrar" class="text-xs bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg flex items-center gap-1 transition">
                            <i data-lucide="filter" class="w-3 h-3"></i>
                            <span>Filtrar</span>
                        </button>
                        <button id="btn-nuevo" class="text-xs bg-cyan-500 hover:bg-cyan-400 px-4 py-2 rounded-lg flex items-center gap-1 transition text-navy-900 font-bold">
                            <i data-lucide="plus" class="w-3 h-3"></i>
                            <span>Nuevo</span>
                        </button>
                    </div>
                </div>
                
                <!-- TABLA -->
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-white/5 text-slate-400 font-bold uppercase text-[9px] tracking-[0.2em]">
                            <tr>
                                <th class="px-6 py-5">Profesional</th>
                                <th class="px-6 py-5">Inversión</th>
                                <th class="px-6 py-5">Documentación</th>
                                <th class="px-6 py-5">Acción</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5">
                            <tr class="hover:bg-white/5 transition-colors group">
                                <td class="px-6 py-5">
                                    <p class="font-bold text-base editable-field" contenteditable="true">Belgrano, Marcelo</p>
                                    <p class="text-xs text-slate-400 italic editable-field" contenteditable="true">Paramédico Deportivo</p>
                                </td>
                                <td class="px-6 py-5">
                                    <span class="font-mono text-emerald-400 font-bold editable-field" contenteditable="true">$50.000</span>
                                    <span class="text-[9px] ml-2 text-slate-500 uppercase editable-field" contenteditable="true">(Pagado)</span>
                                </td>
                                <td class="px-6 py-5">
                                    <div class="flex flex-wrap gap-2">
                                        <span class="text-[9px] bg-white/10 px-2 py-1.5 rounded-md border border-white/10 editable-field" contenteditable="true">DNI.PDF</span>
                                        <span class="text-[9px] bg-white/10 px-2 py-1.5 rounded-md border border-white/10 editable-field" contenteditable="true">TITULO.JPG</span>
                                    </div>
                                </td>
                                <td class="px-6 py-5">
                                    <!-- BOTÓN APROBAR FUNCIONAL -->
                                    <button class="btn-approve bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white font-bold px-5 py-2 rounded-lg text-xs transition-all shadow-lg flex items-center gap-1">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                        <span>Aprobar</span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- BOTÓN DE NAVEGACIÓN A INDEX - EXPLÍCITO -->
            <div class="mt-8 flex justify-end">
                <a href="index.html" class="group px-6 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition-all flex items-center gap-3">
                    <i data-lucide="eye" class="w-4 h-4 text-cyan-400"></i>
                    <span class="text-sm font-medium">Ver cambios en el sitio público</span>
                    <i data-lucide="arrow-right" class="w-4 h-4 text-cyan-400 group-hover:translate-x-1 transition-transform"></i>
                </a>
            </div>
        </main>
    </div>

    <!-- SISTEMA DE BOTONES FUNCIONALES Y SINCRONIZACIÓN -->
    <script>
        (function() {
            "use strict";

            // ================================================
            // TODOS LOS BOTONES SON FUNCIONALES
            // ================================================

            // Inicializar Lucide
            lucide.createIcons();

            // 1. TOAST NOTIFICATION
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');

            function showToast(message, type = 'success') {
                toastMessage.textContent = message;
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            // 2. BOTÓN GUARDAR TODO - FUNCIONAL
            const btnSaveAll = document.getElementById('btn-save-all');
            if (btnSaveAll) {
                btnSaveAll.addEventListener('click', function() {
                    // Recopilar todos los campos editables
                    const changes = [];
                    document.querySelectorAll('.editable-field[contenteditable="true"]').forEach(el => {
                        const field = el.dataset.field;
                        const value = el.innerText.trim();
                        if (field) {
                            changes.push({ field, value });
                            
                            // SIMULAR ACTUALIZACIÓN EN SUPABASE
                            // Enviar a otras pestañas (index)
                            localStorage.setItem('remaep-config-update', JSON.stringify({
                                field: field,
                                value: value,
                                timestamp: Date.now()
                            }));
                        }
                    });
                    
                    showToast('✓ Cambios guardados y sincronizados con el sitio público');
                    console.log('Cambios guardados:', changes);
                });
            }

            // 3. BOTÓN CERRAR SESIÓN - FUNCIONAL
            const btnLogout = document.getElementById('btn-logout');
            if (btnLogout) {
                btnLogout.addEventListener('click', function() {
                    // Confirmación
                    if (confirm('¿Cerrar sesión de administrador?')) {
                        showToast('Sesión cerrada correctamente');
                        // Redirigir al index después de 1 segundo
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 1000);
                    }
                });
            }

            // 4. BOTONES DE NAVEGACIÓN - FUNCIONALES
            // Dashboard
            document.getElementById('nav-dashboard')?.addEventListener('click', function(e) {
                e.preventDefault();
                showToast('Dashboard - Vista principal');
                // Aquí iría la lógica de cambio de vista
            });

            // Homologaciones
            document.getElementById('nav-homologaciones')?.addEventListener('click', function(e) {
                e.preventDefault();
                showToast('Navegando a Homologaciones');
                // Scroll a la tabla
                document.querySelector('.glass-panel.rounded-3xl')?.scrollIntoView({ 
                    behavior: 'smooth' 
                });
            });

            // Branding
            document.getElementById('nav-branding')?.addEventListener('click', function(e) {
                e.preventDefault();
                showToast('Editando Branding y Logos');
                document.getElementById('panel-branding')?.scrollIntoView({ 
                    behavior: 'smooth' 
                });
            });

            // Precios
            document.getElementById('nav-precios')?.addEventListener('click', function(e) {
                e.preventDefault();
                showToast('Configuración de Precios');
                document.getElementById('panel-precios')?.scrollIntoView({ 
                    behavior: 'smooth' 
                });
            });

            // Contacto
            document.getElementById('nav-contacto')?.addEventListener('click', function(e) {
                e.preventDefault();
                showToast('Editando Información de Contacto');
                // Scroll a la sección de contacto dentro del panel
                const contactSection = document.querySelector('.border-t.border-white\\/10 h4');
                if (contactSection) {
                    contactSection.scrollIntoView({ behavior: 'smooth' });
                }
            });

            // 5. BOTONES DE LA TABLA
            // Botón Filtrar
            document.getElementById('btn-filtrar')?.addEventListener('click', function() {
                showToast('Filtrar solicitudes - Próximamente');
            });

            // Botón Nuevo
            document.getElementById('btn-nuevo')?.addEventListener('click', function() {
                showToast('Crear nueva homologación');
            });

            // Botones Aprobar
            document.querySelectorAll('.btn-approve').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const row = this.closest('tr');
                    const nombre = row?.querySelector('.font-bold.text-base')?.innerText || 'Profesional';
                    showToast(`✅ Homologación aprobada: ${nombre}`);
                    
                    // Cambiar visualmente el botón
                    this.innerHTML = '<i data-lucide="check-circle" class="w-3 h-3"></i> Aprobado';
                    this.classList.remove('from-cyan-500', 'to-blue-500');
                    this.classList.add('from-emerald-500', 'to-teal-500', 'opacity-75');
                    this.disabled = true;
                    
                    lucide.createIcons();
                });
            });

            // 6. AUTO-SAVE EN CAMPOS EDITABLES
            document.querySelectorAll('.editable-field[contenteditable="true"]').forEach(el => {
                el.addEventListener('blur', function() {
                    const field = this.dataset.field;
                    const value = this.innerText.trim();
                    
                    if (field) {
                        // Guardar automáticamente
                        localStorage.setItem('remaep-config-update', JSON.stringify({
                            field: field,
                            value: value,
                            timestamp: Date.now()
                        }));
                        
                        // Pequeño indicador visual
                        this.style.backgroundColor = 'rgba(0, 229, 255, 0.1)';
                        setTimeout(() => {
                            this.style.backgroundColor = '';
                        }, 500);
                    }
                });
            });

            // 7. SIMULAR CARGA DESDE SUPABASE (demo)
            // Escuchar cambios desde otras pestañas
            window.addEventListener('storage', function(e) {
                if (e.key === 'remaep-config-update') {
                    try {
                        const update = JSON.parse(e.newValue);
                        // Actualizar campos locales si existen
                        document.querySelectorAll(`.editable-field[data-field="${update.field}"]`).forEach(el => {
                            if (el.innerText !== update.value) {
                                el.innerText = update.value;
                            }
                        });
                    } catch (e) {}
                }
            });

            // 8. SOPORTE REDUCED MOTION
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.documentElement.style.setProperty('animation', 'none');
            }
        })();
    </script>
</body>
</html>
